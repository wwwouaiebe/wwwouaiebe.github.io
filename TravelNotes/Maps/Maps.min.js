/*! maps - version 2.2.0-alpha - build 0096 - 2018-09-06T13:22:22+0200 - Copyright 2017 2018 Christian Guyette - Contact: http//www.ouaie.be/ - This  program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or any later version.*/


!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){!function(){"use strict";var a=function(){var a={color:"red",radius:10,zoomTo:!0,zoom:17,geoLocationOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:1/0}},b=!1,c=null,d=null,e=null,f=!1,g=function(e){b&&(d&&c.removeLayer(d),d=L.circleMarker(L.latLng(e.coords.latitude,e.coords.longitude),{radius:a.radius,color:a.color}).addTo(c),f&&(c.setView(L.latLng(e.coords.latitude,e.coords.longitude),a.zoom),f=!1))},h=function(){b=!1,d&&c.removeLayer(d),d=null,e&&navigator.geolocation.clearWatch(e)},i=function(){b=!0,f=a.zoomTo,navigator.geolocation.getCurrentPosition(g,h,a.geoLocationOptions),e=navigator.geolocation.watchPosition(g,h)};return{getStatus:function(){return b},init:function(b,d){c=b,d&&(a.color=d.color||"red",a.radius=d.radius||10,a.zoomTo=d.zoomTo||!0,a.zoom=d.zoom||17,d.geoLocationOptions&&(a.geoLocationOptions.enableHighAccuracy=d.geoLocationOptions.enableHighAccuracy||!1,a.geoLocationOptions.maximumAge=d.geoLocationOptions.maximumAge||0,a.geoLocationOptions.timeout=d.geoLocationOptions.timeout||1/0))},switch:function(){"https:"!==window.location.protocol.toLowerCase()||!1 in navigator||(b?h():i())}}};void 0!==b&&b.exports&&(b.exports=a)}()},{}],2:[function(a,b,c){!function(){"use strict";var a=function(){return{create:function(a,b,c){var d;if(d="text"===a.toLowerCase()?document.createTextNode(""):document.createElement(a),c&&c.appendChild(d),b)for(var e in b)try{d[e]=b[e]}catch(a){console.log("Invalid property : "+e)}return d}}};void 0!==b&&b.exports&&(b.exports=a)}()},{}],3:[function(a,b,c){!function(){"use strict";var c=function(){var b=a("./Translator")(),c={map:{center:{lat:50.50923,lng:5.49542},zoom:17},theDevil:{addButton:!1,title:"MapsBuilder - Reminder! The devil will know everything about you",text:"&#x1f47f;"},printerMark:{addOnMap:!1,top:"723px",left:"1051px"},travelNotesAsLeafletControl:!1,contactMail:"http://www.ouaie.be/blog/pages/contact/",donate:!1,scaleControl:{imperial:!1,metric:!0},mouseControl:!0,geoLocation:{color:"red",radius:10,zoomTo:!0,zoom:17,geoLocationOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:1/0}}},d=null,e=a("./GeoLocator")(),f=null,g={},h={leaflet:'&copy; <a href="http://leafletjs.com/" target="_blank" title="Leaflet">Leaflet</a> ',osm:'| &copy; <a href="http://www.openstreetmap.org/copyright" target="_blank" title=" '+b.getText("MapsBuilder - OpenStreetMap contributors")+'">'+b.getText("MapsBuilder - OpenStreetMap contributors")+"</a> ",thunderforest:'| Tiles courtesy of <a href="http://www.thunderforest.com/" target="_blank" title="Andy Allan">Andy Allan</a> ',esri:"| Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community ",kartverket:'| <a href="https://kartverket.no/" target="_blank">Kartverket</a> ',ign:b.getText("MapsBuilder - IGN"),mapbox:'| &copy; <a href="https://www.mapbox.com/about/maps/" target="_blank">Mapbox</a> ',donate:'| <span style="color:red">&#x2764;</span> <a href="https://donate.openstreetmap.org/" target="_blank" title="'+b.getText("MapsBuilder - Donate")+'">'+b.getText("MapsBuilder - Donate")+"</a> ",travelnotes:'| &copy; <a href="https://github.com/wwwouaiebe" target="_blank" title="https://github.com/wwwouaiebe">Maps & TravelNotes</a> '},i=null,j=a("./HTMLElementsFactory")(),k=function(){var a=null,b=null,c="",d=function(){document.getElementById("mapsMouseControl")&&(document.getElementById("mapsMouseControl").innerHTML="<span>"+a+"&nbsp;-&nbsp;Zoom&nbsp;:&nbsp;"+b+(""!==c?"&nbsp;-&nbsp;"+c:"")+"</span>")};return{set mousePos(b){a=(b.lat>0?b.lat.toFixed(6)+"&nbsp;N":(-b.lat).toFixed(6)+"&nbsp;S")+"&nbsp;-&nbsp;"+(b.lng>0?b.lng.toFixed(6)+"&nbsp;E":(-b.lng).toFixed(6)+"&nbsp;W"),d()},get mousePos(){return null},set zoom(a){b=a,d()},get zoom(){return null},set name(a){c=a,d()},get name(){return null}}}(),l=function(a){if(g[a]){var b=g[a].layer;if(i&&d.removeLayer(g[i].layer),d.addLayer(b),i=a,document.getElementsByClassName("leaflet-control-attribution")[0].innerHTML=h.leaflet+g[a].attribution+(c.donate?h.donate:"")+(L.travelNotes?h.travelnotes:""),d.setMinZoom(0),d.setMaxZoom(18),b.options.myMaxZoom&&(b.options.myMaxZoom<d.getZoom()&&d.setZoom(b.options.myMaxZoom),d.setMaxZoom(b.options.myMaxZoom)),b.options.myMinZoom&&(b.options.myMinZoom>d.getZoom()&&d.setZoom(b.options.myMinZoom),d.setMinZoom(b.options.myMinZoom)),b.options.bounds&&(d.getBounds().intersects(b.options.bounds)||d.fitBounds(b.options.bounds)),d.setMaxBounds(null),d.setMaxBounds(b.options.bounds),f&&b.options.layerId){var e=f.userData;e.layerId=b.options.layerId,f.userData=e}d.fire("baselayerchange",g[i].layer)}},m=function(){var a={};g[0]={layer:L.tileLayer("https://{s}.tile.osm.org/{z}/{x}/{y}.png",{layerId:"0"}),name:b.getText("MapsBuilder - OSM Color"),toolbarText:"OSM",attribution:h.osm},g[1]={layer:L.tileLayer("http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",{layerId:"1"}),name:b.getText("MapsBuilder - OSM Black and White"),toolbarText:"OSM",attribution:h.osm},g[5]={layer:L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{layerId:"5"}),name:b.getText("MapsBuilder - Esri aerial view"),toolbarText:"ESRI",attribution:h.esri},g[6]={layer:L.tileLayer("https://opencache.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=matrikkel_bakgrunn&zoom={z}&x={x}&y={y}",{layerId:"6",bounds:L.latLngBounds(L.latLng(56.84,1.4),L.latLng(72.1,35.15))}),name:b.getText("MapsBuilder - Kartverket Norway"),toolbarText:"N",attribution:h.kartverket},f&&(0<f.getProviderKey("thunderforest").length&&(a.thunderforest=f.getProviderKey("thunderforest"),g[2]={layer:L.tileLayer("https://{s}.tile.thunderforest.com/transport/{z}/{x}/{y}.png?apikey="+a.thunderforest,{layerId:"2"}),name:b.getText("MapsBuilder - Thunderforest - Transport"),toolbarText:"&#x1f686;",attribution:h.osm+h.thunderforest},g[3]={layer:L.tileLayer("https://{s}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey="+a.thunderforest,{layerId:"3"}),name:b.getText("MapsBuilder - Thunderforest OpenCycleMap"),toolbarText:"&#x1f6b2;",attribution:h.osm+h.thunderforest},g[4]={layer:L.tileLayer("https://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png?apikey="+a.thunderforest,{layerId:"4"}),name:b.getText("MapsBuilder - Thunderforest - Outdoors"),toolbarText:"&#x1f6b6;",attribution:h.osm+h.thunderforest},g[12]={layer:L.tileLayer("https://{s}.tile.thunderforest.com/landscape/{z}/{x}/{y}.png?apikey="+a.thunderforest,{layerId:"12"}),toolbarText:"&#x26f0;",name:b.getText("MapsBuilder - Thunderforest - Landscape"),attribution:h.osm+h.thunderforest}),0<f.getProviderKey("ign").length&&(g[7]={layer:L.tileLayer("https://www.ngi.be/cartoweb/1.0.0/topo/default/3857/{z}/{y}/{x}.png",{layerId:"7",myMinZoom:7,myMaxZoom:17,bounds:L.latLngBounds(L.latLng(49.49,2.54),L.latLng(51.51,6.41))}),name:b.getText("MapsBuilder - IGN-NGI - Belgium"),toolbarText:"IGN",attribution:h.ign}),0<f.getProviderKey("mapbox").length&&(a.mapbox=f.getProviderKey("mapbox"),g[8]={layer:L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/streets-v9/tiles/256/{z}/{x}/{y}?access_token="+a.mapbox,{layerId:"8"}),name:"Mapbox - Streets",toolbarText:"M",attribution:h.osm+h.mapbox},g[9]={layer:L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/outdoors-v9/tiles/256/{z}/{x}/{y}?access_token="+a.mapbox,{layerId:"9"}),name:"Mapbox - Outdoors",toolbarText:"M",attribution:h.osm+h.mapbox},g[10]={layer:L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/light-v9/tiles/256/{z}/{x}/{y}?access_token="+a.mapbox,{layerId:"10"}),name:"Mapbox - Light",toolbarText:"M",attribution:h.osm+h.mapbox},g[11]={layer:L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/dark-v9/tiles/256/{z}/{x}/{y}?access_token="+a.mapbox,{layerId:"11"}),name:"Mapbox - Dark",toolbarText:"M",attribution:h.osm+h.mapbox}))},n=function(){var a=j.create("div",{id:"mapsToolbar"},document.getElementsByTagName("body")[0]);j.create("div",{id:"mapsToolbarHeader",innerHTML:"Maps"},a);a.addEventListener("mouseenter",function(){var a=j.create("div",{id:"mapsToolbarButtons"},document.getElementById("mapsToolbar")),f=(j.create("div",{id:"mapsToolbarHomeButton",className:"mapsToolbarButton",innerHTML:'<a title="home" href="'+window.location.origin+'" target="_blank">&#x1f3e0;</a>'},a),function(a){l(a.target.layerId)});for(var h in g){j.create("div",{className:"mapsToolbarButton mapsToolbarLayerButton",innerHTML:g[h].toolbarText,layerId:h,id:"mapsToolbarLayer"+h+"Button",title:g[h].name},a).addEventListener("click",f,!0)}if("https:"===window.location.protocol.toLowerCase()&&"geolocation"in navigator){j.create("div",{className:"mapsToolbarButton "+(e.getStatus()?"mapsToolbarStopGeolocationButton":"mapsToolbarStartGeolocationButton"),innerHTML:"&#x1f310;",id:"mapsToolbarGeolocationButton",title:b.getText(e.getStatus()?"MapsBuilder - Stop geolocation":"MapsBuilder - Start geolocation")},a).addEventListener("click",function(a){e.switch()},!0)}j.create("div",{id:"mapsToolbarContactButton",className:"mapsToolbarButton",innerHTML:'<a title="contact" href="'+window.location.origin+'" target="_blank">&#x1f4e7;</a>'},a),j.create("div",{id:"mapsToolbarHelpButton",className:"mapsToolbarButton",innerHTML:'<a title="Maps help" href="https://github.com/wwwouaiebe/maps/tree/gh-pages" target="_blank">?</a>'},a);if(L.travelNotes){j.create("div",{id:"mapsToolbarTravelNotesHelpButton",className:"mapsToolbarButton",innerHTML:'<a title="leaflet.TravelNotes help" href="https://github.com/wwwouaiebe/leaflet.TravelNotes/tree/gh-pages" target="_blank">?</a>'},a)}if(c.theDevil.addButton){var i="https://www.google.com/maps/@"+d.getCenter().lat+","+d.getCenter().lng+","+d.getZoom()+"z";j.create("div",{id:"mapsToolbarDevilButton",className:"mapsToolbarButton",innerHTML:'<a id="mapsToolbarDevilLink" href="'+i+'" title="'+c.theDevil.title+'" target="_blank">'+c.theDevil.text+"</a>"},a)}c.contactMail&&(document.getElementById("mapsToolbarContactButton").innerHTML='<a href="'+c.contactMail+'" title = "Contact" target="_blank">&#x1f4e7;</a>')},!1),a.addEventListener("mouseleave",function(){document.getElementById("mapsToolbar").removeChild(document.getElementById("mapsToolbarButtons"))},!1)},o=function(){if(c.mouseControl){j.create("div",{id:"mapsMouseControl"},document.getElementsByTagName("body")[0])}},p=function(){if(c.printerMark.addOnMap){var a=j.create("div",{id:"mapsPrinterMark"},document.getElementsByTagName("body")[0]);a.setAttribute("top",c.printerMark.top),a.setAttribute("left",c.printerMark.left)}},q=function(){if(L.travelNotes){var b=a("./HTMLElementsFactory")();if(f=L.travelNotes.interface(),c.travelNotesAsLeafletControl)f.addControl(d,null,{position:"topright"});else{b.create("div",{id:"mapsTravelNotes"},document.getElementsByTagName("body")[0]);f.addControl(d,"mapsTravelNotes",{position:"topright"})}f.rightContextMenu=!0}},r=function(){L.control.attribution({position:"bottomleft",prefix:!1}).addTo(d)},s=function(){L.control.scale({position:"bottomleft",metric:c.scaleControl.metric,imperial:c.scaleControl.imperial}).addTo(d)},t=function(){d.on("zoomend moveend",function(a){document.getElementById("mapsToolbarDevilLink")&&(document.getElementById("mapsToolbarDevilLink").href="https://www.google.com/maps/@"+d.getCenter().lat+","+d.getCenter().lng+","+d.getZoom()+"z")}),c.mouseControl&&(d.on("mousemove",function(a){k.mousePos=a.latlng}),d.on("zoomend",function(a){k.zoom=d.getZoom()})),d.on("travelnotesfileloaded",function(a){if(k.name=a.name||"",a.readOnly&&(document.getElementById("mapsToolbar")&&(document.getElementById("mapsToolbar").style.visibility="hidden",document.getElementById("mapsToolbar").style.width="0"),document.getElementById("mapsMouseControl")&&(document.getElementById("mapsMouseControl").style.visibility="hidden")),f){f.userData.layerId&&l(f.userData.layerId)}})};return{build:function(a){a&&a[0]&&(c=a[0]),a&&a[1]&&b.setTranslations(a[1]),c.theDevil.title=b.getText("MapsBuilder - Reminder! The devil will know everything about you"),h.osm='| &copy; <a href="http://www.openstreetmap.org/copyright" target="_blank" title=" '+b.getText("MapsBuilder - OpenStreetMap contributors")+'">'+b.getText("MapsBuilder - OpenStreetMap contributors")+"</a> ",h.ign=b.getText("MapsBuilder - IGN"),h.donate='| <span style="color:red">&#x2764;</span> <a href="https://donate.openstreetmap.org/" target="_blank" title="'+b.getText("MapsBuilder - Donate")+'">'+b.getText("MapsBuilder - Donate")+"</a> ",d=L.map("mapsMap",{attributionControl:!1,zoomControl:!1}).setView([c.map.center.lat,c.map.center.lng],c.map.zoom),k.zoom=d.getZoom(),r(),s(),q(),m(),n(),o(),p(),t(),e.init(d,c.geoLocation),l("0")}}};void 0!==b&&b.exports&&(b.exports=c)}()},{"./GeoLocator":1,"./HTMLElementsFactory":2,"./Translator":6}],4:[function(a,b,c){!function(){"use strict";var b=a("./MapBuilder")();a("./TaskLoader")().start([{task:"loadJsonFile",url:window.location.href.substr(0,window.location.href.lastIndexOf("/")+1)+"Maps/MapsConfig.json"},{task:"loadJsonFile",url:window.location.href.substr(0,window.location.href.lastIndexOf("/")+1)+"Maps/Maps"+function(){for(var a="fr",b=decodeURI(window.location.search).substr(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");2===d.length&&"lng"===d[0].toLowerCase()&&(a=d[1].toLowerCase())}return a.toUpperCase()}()+".json"},{task:"wait"},{task:"run",func:b.build,context:b,responses:[0,1]}])}()},{"./MapBuilder":3,"./TaskLoader":5}],5:[function(a,b,c){!function(){"use strict";var a=function(){var a=function(){return{start:function(a,b,c,d){var e=new XMLHttpRequest;e.timeout=5e3,e.ontimeout=function(c){b.call(a,null,d,3)},e.onreadystatechange=function(){if(4===e.readyState){var c=null;if(200===e.status)try{c=JSON.parse(e.responseText),b.call(a,c,d,2)}catch(c){b.call(a,null,d,3)}else b.call(a,null,d,3)}},e.open("GET",c,!0),e.overrideMimeType("application/json"),e.send(null)}}},b=0,c=[];return{start:function(a){c=a;var b=0;for(b=0;b<c.length;b++)c[b].status=0;b=-1,this.taskRunner()},taskRunner:function(){for(var d=!1;!d&&b<c.length;)switch(c[b].status=1,c[b].task){case"loadJsonFile":a().start(this,this.endTask,c[b].url,b),b++;break;case"wait":this.endTask("",b),d=!0;break;case"run":var e=c[b].params?c[b].params:[];if(c[b].responses)for(var f=0;f<c[b].responses.length;f++)e.push(c[c[b].responses[f]].response);c[b].func.call(c[b].context,e),c[b].status=2,b++;break;default:b++}},endTask:function(a,d,e){if("loadJsonFile"===c[d].task&&(c[d].response=a,c[d].status=e,3===e&&console.log("File "+c[d].url+" not loaded.")),"wait"===c[b].task){for(var f=!0,g=0;g<b;g++)f&=c[g].status>=2;f&&(c[b].status=2,b++,this.taskRunner())}}}};void 0!==b&&b.exports&&(b.exports=a)}()},{}],6:[function(a,b,c){(function(a){!function(){"use strict";var c=function(){return a.translations||(a.translations=new Map),{setTranslations:function(b){b.forEach(function(b){a.translations.set(b.msgid,b.msgstr)})},getText:function(b,c){var d=a.translations.get(b);return c&&d&&Object.getOwnPropertyNames(c).forEach(function(a){d=d.replace("{"+a+"}",c[a])}),d||b}}};void 0!==b&&b.exports&&(b.exports=c)}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[4]);